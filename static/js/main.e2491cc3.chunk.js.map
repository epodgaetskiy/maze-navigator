{"version":3,"sources":["finder/finder.js","components/Row.jsx","components/Cell.jsx","components/EnterMaze.jsx","components/Navigation.jsx","components/App.jsx","index.js"],"names":["getPath","matrix","user","exit","grid","PF","Grid","AStarFinder","findPath","x","y","Container","styled","div","_templateObject","Row","react_default","a","createElement","this","props","children","React","PureComponent","Cell_templateObject","_ref","isWay","isWall","_ref2","userDirection","css","_templateObject2","direction","getDegByDirection","_ref3","isUser","Cell","Cell_Container","EnterMaze","state","matrixValue","onChange","event","_this","setState","Object","defineProperty","target","name","value","calculateMaze","index","updateMatrixValue","split","reduce","acc","item","push","updateMatrix","rows","style","width","type","onClick","Navigation","_this$props","snapshotUserStep","handleClickAction","marginLeft","marginBottom","disabled","action","numberRepeatingSteps","concat","App_templateObject","actionByCurrentUserDirection","top","bottom","left","right","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","_this$getStateByMatri","getStateByMatrix","way","snapshotUserSteps","getSnapshotUserSteps","step","getDirectionUserBySymbol","symbol","maxX","length","maxY","normalizeMatrix","exits","forEach","row","oY","map","oX","getNeedAction","currentStep","needMoving","actionType","objectSpread","getNumberRepeatingForwardAction","currentIndex","items","initialUser","initialWay","toConsumableArray","iteration","optimezeSnapshotUserSteps","i","checkCellByUser","positionX","positionY","checkCellByWay","path","renderMatrix","rowData","Row_Row","key","cellData","Cell_Cell","Boolean","_this$state","EnterMaze_EnterMaze","App_Container","Navigation_Navigation","Component","rootElement","document","getElementById","ReactDOM","render","App_App"],"mappings":"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","file":"static/js/main.e2491cc3.chunk.js","sourcesContent":["import PF from \"pathfinding\";\n\nexport const getPath = (matrix, user, exit) => {\n  const grid = new PF.Grid(matrix);\n  const finder = new PF.AStarFinder();\n\n  return finder.findPath(user.x, user.y, exit.x, exit.y, grid);\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  display: flex;\n`;\n\nexport default class Row extends React.PureComponent {\n  render() {\n    return <Container>{this.props.children}</Container>;\n  }\n}\n","import React from \"react\";\nimport styled, { css } from \"styled-components\";\n\nconst getDegByDirection = direction => {\n  switch (direction) {\n    case \"top\":\n      return \"0deg\";\n    case \"bottom\":\n      return \"180deg\";\n    case \"left\":\n      return \"270deg\";\n    case \"right\":\n      return \"90deg\";\n    default:\n      return \"0deg\";\n  }\n};\n\nconst Container = styled.div`\n  position: relative;\n  background: ${({ isWay, isWall }) =>\n    isWay ? \"yellow\" : isWall ? \"#2FD781\" : \"#E5E7EA\"};\n  width: 20px;\n  height: 20px;\n  border: 1px solid white;\n\n  &:after {\n    content: \"\";\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%)\n      ${({ userDirection }) => css`\n      rotate(${getDegByDirection(userDirection)})\n    `};\n    width: 100%;\n    height: 100%;\n    color: blue;\n    font-weight: bold;\n    display: ${({ isUser }) => (isUser ? \"flex\" : \"none\")};\n    align-items: center;\n    background-image: url(\"images/icon-nav.png\");\n    background-size: 100% 100%;\n  }\n`;\n\nexport default class Cell extends React.PureComponent {\n  render() {\n    return (\n      <Container\n        userDirection={this.props.userDirection}\n        isWall={this.props.isWall}\n        isUser={this.props.isUser}\n        isWay={this.props.isWay}\n      />\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class EnterMaze extends React.PureComponent {\n  state = {\n    matrixValue: \"\"\n  };\n\n  onChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  calculateMaze = () => {\n    let index = 0;\n    const updateMatrixValue = this.state.matrixValue\n      .split(\"\")\n      .reduce((acc, item) => {\n        if (item !== \"\\n\") {\n          if (!acc[index]) acc[index] = [];\n          acc[index].push(item);\n        } else {\n          index++;\n        }\n        return acc;\n      }, []);\n    this.props.updateMatrix(updateMatrixValue);\n  };\n\n  render() {\n    return (\n      <div>\n        <div>\n          <textarea\n            name=\"matrixValue\"\n            onChange={this.onChange}\n            rows={10}\n            style={{ width: \"300px\" }}\n          />\n        </div>\n        <button type=\"button\" onClick={this.calculateMaze}>\n          Calculate maze\n        </button>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class Navigation extends React.PureComponent {\n  render() {\n    const { snapshotUserStep, handleClickAction } = this.props;\n    return (\n      <div style={{ marginLeft: \"20px\" }}>\n        <div style={{ marginBottom: \"10px\" }}>\n          <button\n            type=\"button\"\n            disabled={snapshotUserStep.type !== \"forward\"}\n            onClick={handleClickAction(snapshotUserStep.action)}\n          >\n            Go {snapshotUserStep.numberRepeatingSteps || \"n\"}{\" \"}\n            {`step${snapshotUserStep.numberRepeatingSteps > 1 ? \"s\" : \"\"}`}{\" \"}\n            forward\n          </button>\n        </div>\n        <div style={{ marginBottom: \"10px\" }}>\n          <button\n            type=\"button\"\n            disabled={snapshotUserStep.type !== \"around\"}\n            onClick={handleClickAction(snapshotUserStep.action)}\n          >\n            Turn around\n          </button>\n        </div>\n        <div style={{ marginBottom: \"10px\" }}>\n          <button\n            type=\"button\"\n            disabled={snapshotUserStep.type !== \"left\"}\n            onClick={handleClickAction(snapshotUserStep.action)}\n          >\n            Turn left\n          </button>\n        </div>\n        <div style={{ marginBottom: \"10px\" }}>\n          <button\n            type=\"button\"\n            disabled={snapshotUserStep.type !== \"right\"}\n            onClick={handleClickAction(snapshotUserStep.action)}\n          >\n            Turn right\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { getPath } from \"../finder/finder\";\nimport Row from \"./Row\";\nimport Cell from \"./Cell\";\nimport EnterMaze from \"./EnterMaze\";\nimport Navigation from \"./Navigation\";\n\nconst Container = styled.div`\n  display: flex;\n`;\n\nconst actionByCurrentUserDirection = {\n  top: {\n    top: \"forward\",\n    bottom: \"around\",\n    left: \"right\",\n    right: \"left\"\n  },\n  bottom: {\n    top: \"around\",\n    bottom: \"forward\",\n    left: \"left\",\n    right: \"right\"\n  },\n  left: {\n    top: \"left\",\n    bottom: \"right\",\n    left: \"forward\",\n    right: \"around\"\n  },\n  right: {\n    top: \"right\",\n    bottom: \"left\",\n    left: \"around\",\n    right: \"forward\"\n  }\n};\n\nexport default class App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      user: null,\n      way: null,\n      matrix: null,\n      step: 0\n    };\n\n    this.snapshotUserSteps = [];\n  }\n\n  updateMatrix = value => {\n    const { user, way, matrix } = this.getStateByMatrix(value);\n    this.snapshotUserSteps = this.getSnapshotUserSteps(user, way);\n    this.setState({\n      user,\n      way,\n      matrix,\n      step: 0\n    });\n  };\n\n  getDirectionUserBySymbol = symbol => {\n    switch (symbol) {\n      case \">\":\n        return \"right\";\n      case \"<\":\n        return \"left\";\n      case \"^\":\n        return \"top\";\n      case \"v\":\n        return \"bottom\";\n      default:\n        return \"bottom\";\n    }\n  };\n\n  getStateByMatrix = matrix => {\n    const maxX = matrix[0].length - 1;\n    const maxY = matrix.length - 1;\n    const normalizeMatrix = [];\n    const user = {};\n    const exits = [];\n    matrix.forEach((row, oY) => {\n      normalizeMatrix[oY] = row.map((item, oX) => {\n        if (item === \" \" && (oY === 0 || oY === maxY)) {\n          exits.push([oX, oY]);\n        }\n        if (\n          item === \" \" &&\n          (oY !== 0 && oY !== maxY && (oX === 0 || oX === maxX))\n        ) {\n          exits.push([oX, oY]);\n        }\n        switch (item) {\n          case \"#\":\n            return 1;\n          case \" \":\n            return 0;\n          default:\n            user.x = oX;\n            user.y = oY;\n            user.direction = this.getDirectionUserBySymbol(item);\n            return 0;\n        }\n      });\n    });\n\n    const way = getPath(\n      normalizeMatrix,\n      { x: user.x, y: user.y },\n      { x: exits[0][0], y: exits[0][1] }\n    );\n    return {\n      matrix: normalizeMatrix,\n      user,\n      way\n    };\n  };\n\n  getNeedAction = (currentStep, user, way) => {\n    let needMoving = \"\";\n    if (\n      way[currentStep][0] === way[currentStep + 1][0] &&\n      way[currentStep][1] - 1 === way[currentStep + 1][1]\n    ) {\n      needMoving = \"top\";\n    }\n    if (\n      way[currentStep][0] === way[currentStep + 1][0] &&\n      way[currentStep][1] + 1 === way[currentStep + 1][1]\n    ) {\n      needMoving = \"bottom\";\n    }\n    if (\n      way[currentStep][0] - 1 === way[currentStep + 1][0] &&\n      way[currentStep][1] === way[currentStep + 1][1]\n    ) {\n      needMoving = \"left\";\n    }\n    if (\n      way[currentStep][0] + 1 === way[currentStep + 1][0] &&\n      way[currentStep][1] === way[currentStep + 1][1]\n    ) {\n      needMoving = \"right\";\n    }\n\n    const actionType = actionByCurrentUserDirection[needMoving][user.direction];\n    return {\n      type: actionType,\n      action:\n        actionType !== \"forward\"\n          ? {\n              user: {\n                ...user,\n                direction: needMoving\n              },\n              currentStep\n            }\n          : {\n              user: {\n                ...user,\n                x: way[currentStep + 1][0],\n                y: way[currentStep + 1][1]\n              },\n              currentStep: currentStep + 1\n            }\n    };\n  };\n\n  getNumberRepeatingForwardAction = (\n    currentIndex,\n    items,\n    numberRepeatingSteps\n  ) => {\n    if (\n      currentIndex < items.length - 1 &&\n      items[currentIndex + 1].type === \"forward\"\n    ) {\n      return this.getNumberRepeatingForwardAction(\n        currentIndex + 1,\n        items,\n        numberRepeatingSteps + 1\n      );\n    } else {\n      return {\n        ...items[currentIndex],\n        numberRepeatingSteps\n      };\n    }\n  };\n\n  getSnapshotUserSteps = (initialUser, initialWay) => {\n    const snapshotUserSteps = [];\n    let currentStep = 0;\n    let user = { ...initialUser };\n    let way = [...initialWay];\n\n    while (currentStep < way.length - 1) {\n      const iteration = this.getNeedAction(currentStep, user, way);\n      currentStep = iteration.action.currentStep;\n      user = iteration.action.user;\n      snapshotUserSteps.push(iteration);\n    }\n\n    const optimezeSnapshotUserSteps = [];\n    let i = 0;\n    while (i < snapshotUserSteps.length) {\n      if (snapshotUserSteps[i].type !== \"forward\") {\n        optimezeSnapshotUserSteps.push(snapshotUserSteps[i]);\n        i = i + 1;\n      } else {\n        const item = this.getNumberRepeatingForwardAction(\n          i,\n          snapshotUserSteps,\n          1\n        );\n        optimezeSnapshotUserSteps.push(item);\n        i = i + item.numberRepeatingSteps;\n      }\n    }\n\n    return optimezeSnapshotUserSteps;\n  };\n\n  checkCellByUser = (positionX, positionY) =>\n    positionX === this.state.user.x && positionY === this.state.user.y;\n\n  checkCellByWay = (positionX, positionY) =>\n    this.state.way.reduce((acc, path) => {\n      if (path[0] === positionX && path[1] === positionY) {\n        acc = true;\n      }\n      return acc;\n    }, false);\n\n  renderMatrix = matrix =>\n    matrix.map((rowData, positionY) => (\n      <Row key={`y-${positionY}`}>\n        {rowData.map((cellData, positionX) =>\n          this.checkCellByUser(positionX, positionY) ? (\n            <Cell\n              key={`x-${positionX}`}\n              isWall={Boolean(cellData)}\n              isWay={this.checkCellByWay(positionX, positionY)}\n              userDirection={this.state.user.direction}\n              isUser\n            />\n          ) : (\n            <Cell\n              key={`x-${positionX}`}\n              isWall={Boolean(cellData)}\n              isWay={this.checkCellByWay(positionX, positionY)}\n            />\n          )\n        )}\n      </Row>\n    ));\n\n  handleClickAction = action => () => {\n    this.setState(state => ({\n      ...action,\n      step: state.step + 1\n    }));\n  };\n\n  render() {\n    const { matrix, step } = this.state;\n    const snapshotUserStep = this.snapshotUserSteps[step];\n    return (\n      <div>\n        <EnterMaze updateMatrix={this.updateMatrix} />\n        {matrix && (\n          <Container>\n            <div>{matrix.length > 0 && this.renderMatrix(matrix)}</div>\n            {snapshotUserStep ? (\n              <Navigation\n                snapshotUserStep={snapshotUserStep}\n                handleClickAction={this.handleClickAction}\n              />\n            ) : (\n              <p style={{ marginLeft: \"20px\" }}>Congratulations</p>\n            )}\n          </Container>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}